<!DOCTYPE html>
<html>
<head>
  <title>Leitor QR → Google Forms</title>
  <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
</head>
<body>
  <h2>Escaneie o QR Code</h2>
  <div id="reader" style="width: 300px;"></div>

  <script>
    function redirecionarParaForms(textoQR) {
      const linha = textoQR.substring(0, 2);
      const lote = textoQR.substring(2, 5);
      const codigo = textoQR.substring(5, 13);
      const produto = textoQR.substring(13).trim();

      // Substitua abaixo com os entry.xxxxx reais do seu formulário
      const formBase = "https://docs.google.com/forms/d/e/1FAIpQLSf4N93ZJX7x6nZ2A5kofXjX4b0qs2GrMISoArwtubxZc6JLTA/viewform?";
      const query = new URLSearchParams({
        "entry.823678995": linha,     // Linha
        "entry.1492920749": lote,      // Lote
        "entry.615737517": codigo,    // Código
        "entry.81757720": produto    // Produto
      });

      window.location.href = formBase + query.toString();
    }

    new Html5Qrcode("reader").start(
      { facingMode: "environment" },
      { fps: 10, qrbox: 250 },
      (decodedText, decodedResult) => {
        redirecionarParaForms(decodedText);
      },
      errorMessage => {
        // console.warn(errorMessage);
      }
    );
  </script>
</body>
</html>